{% extends 'backend/backend.html' %}

{% block cont %}
<div class="my_CSS3_class">
    <form action="" class="form-group" method="post">
        {% csrf_token %}
        <p><h3  class="my_CSS3_class" style="color: lightcoral">编辑文章</h3></p>
        <p>标题</p>
        <p><input type="text" class="form-control" name="title" value="{{ article_obj.title }}"></p>
        <p>内容(kindeditor编辑器，支持拖放/粘贴上传图片) 查看自动保存内容</p>
        <p>
            <textarea name="content" id="id_content" cols="60" rows="10" >{{ article_obj.content }}</textarea>
        </p>
        <p><input type="submit" value="保存" class="btn btn-danger"></p>
    </form>
</div>


<script charset="utf-8" src="/static/kindeditor/kindeditor-all-min.js"></script>
<script>
        KindEditor.ready(function(K) {
                window.editor = K.create('#id_content',
                    {
                    width: '100%',
                    height:'1000px',
                    resizeType:0,
                    // 控制图片上传的路径
                    uploadJson : '/upload_img',
                    // post请求携带的额外的参数
                    extraFileUploadParams:{
                        csrfmiddlewaretoken:'{{ csrf_token }}',
                    },
                },);


        });
</script>


{% endblock %}